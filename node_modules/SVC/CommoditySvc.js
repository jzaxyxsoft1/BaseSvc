var mongo=require('mongoskin');
var db = require('DB').DB;
var async = require('async');
var _ = require('underscore');
exports.getCommodity = function (t, query, option, callback) {
    db[t].find(query, option).toArray(function (e, rs) {
        _.each(rs, function (i) {
           var bo  = _.find(global.BOs, function (bi) {
                return bi._id == i.Define.Value;
            });
            i.ValuePath = bo.ValuePath || '';
            i.TypeFullName= bo.ValuePath.split('/')[1];
        });
        callback(null, rs);
    });
//    switch (t) {
//        case 'AutoPart':
//            db.AutoPart.find(query, option).toArray(cb);
//            break;
//        case 'AutoArticles':
//            db.AutoArticle.find(query, option).toArray(cb);
//            break;
//        case 'Project':
//            db.Project.find(query, option).toArray(cb);
//            break;
//    }
}